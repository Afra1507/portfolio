/* === Fonts (import both) === */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300..900;1,300..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap");

/* === Tokens === */
:root {
  /* Palette */
  --barn-red: #780000ff;
  --fire-brick: #c1121fff;
  --papaya-whip: #fdf0d5ff;
  --prussian-blue: #003049ff;
  --air-superiority-blue: #669bbcff;

  /* Text & surfaces */
  --text: #0e1116;
  --muted: #4b5563;
  --bg: var(--papaya-whip);
  --surface: rgba(255, 255, 255, 0.55);
  --glass-border: rgba(255, 255, 255, 0.35);
  --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);

  /* Typography scale (responsive with clamp) */
  --fs-body: clamp(1rem, 0.96rem + 0.25vw, 1.0625rem);
  --lh-body: 1.7;

  --fs-h1: clamp(2.25rem, 1.8rem + 2.2vw, 3.25rem);
  --fs-h2: clamp(1.6rem, 1.3rem + 1.2vw, 2.1rem);
  --fs-h3: clamp(1.25rem, 1.1rem + 0.6vw, 1.5rem);
  --fs-lead: clamp(1.125rem, 1.05rem + 0.6vw, 1.65rem);

  --fw-regular: 400;
  --fw-medium: 500;
  --fw-semibold: 600;
  --fw-bold: 700;
  --fw-extrabold: 800;
}
:root.dark {
  --text: #f5f7fa;
  --muted: #c0c9d4;
  --bg: var(--prussian-blue);
  --surface: rgba(11, 26, 38, 0.55);
  --glass-border: rgba(255, 255, 255, 0.129);
  --shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
}

/* === Base === */
html {
  scroll-behavior: smooth;
}
body {
  color: var(--text);
  font-family:
    "Raleway",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  font-size: var(--fs-body);
  line-height: var(--lh-body);
  font-weight: var(--fw-regular);

  /* Professional gradient: Fire Brick → Prussian Blue with subtle accents */
  background:
    radial-gradient(
      1200px 800px at 80% -10%,
      rgba(193, 18, 31, 0.08),
      transparent 60%
    ),
    linear-gradient(135deg, rgba(118, 35, 40, 0.12), rgba(253, 240, 213, 0.95));
}
.dark body {
  background:
    radial-gradient(
      1100px 750px at 10% -10%,
      rgba(193, 18, 31, 0.25),
      transparent 60%
    ),
    linear-gradient(135deg, rgba(0, 48, 73, 1), rgba(11, 26, 38, 1));
}

img {
  max-width: 100%;
  display: block;
}
.section {
  padding: 88px 0;
  scroll-margin-top: 104px;
}
.container {
  max-width: 1140px;
}

/* === Typography === */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family:
    "Montserrat",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  line-height: 2;
  color: var(--text);
}
h1,
.display-1,
.display-5 {
  font-size: var(--fs-h1);
  font-weight: var(--fw-extrabold);
  letter-spacing: -0.4px;
}
h2 {
  font-size: var(--fs-h2);
  font-weight: var(--fw-bold);
}
h3 {
  font-size: var(--fs-h3);
  font-weight: var(--fw-semibold);
}

.lead {
  font-size: var(--fs-lead);
  color: var(--muted);
  font-weight: 400;
}

/* Strong/Emphasis defaults */
strong,
b {
  font-weight: var(--fw-semibold);
}
em,
i {
  font-style: italic;
}

/* === Buttons === */
.btn {
  font-weight: var(--fw-semibold);
}
.btn-primary {
  background: var(--fire-brick);
  border-color: var(--fire-brick);
}
.btn-primary:hover,
.btn-primary:focus {
  filter: brightness(1.06);
  box-shadow: 0 8px 20px rgba(193, 18, 31, 0.32);
}
.btn-outline {
  border: 1px solid var(--air-superiority-blue);
  color: var(--air-superiority-blue);
  background: transparent;
}
.btn-outline:hover {
  background: var(--air-superiority-blue);
  color: #fff;
}

/* === Glass surfaces === */
.glass {
  background: var(--surface);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow);
}

/* === Navbar (centered / glass / hide on scroll) === */
.navbar {
  position: fixed;
  top: 14px;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  z-index: 1100;
  transition:
    transform 0.28s ease,
    opacity 0.28s ease;
  pointer-events: none;
}
.navbar-inner {
  pointer-events: auto;
  border-radius: 18px;
  padding: 0.45rem 0.6rem;
  background: var(--surface);
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow);
}
.nav-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1100;
  background: rgba(255, 255, 255, 0.12); /* frosted look */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
}

.nav-backdrop.active {
  opacity: 1;
  pointer-events: auto;
}

.navbar--hidden {
  transform: translateY(-120%);
  opacity: 0;
}
.navbar--visible {
  transform: translateY(0);
  opacity: 1;
}
.nav-link {
  font-family:
    "Montserrat",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  color: var(--text);
  font-weight: var(--fw-bold);
  border-radius: 12px;
  padding: 0.5rem 0.7rem;
  transition:
    transform 0.25s ease,
    background 0.15s ease,
    color 0.15s ease;
}
.nav-link:hover,
.nav-link:focus {
  background: rgba(102, 155, 188, 0.16);
  color: var(--air-superiority-blue);
  text-decoration: none;
  transform: translateY(-1px) scale(1.02);
}

/* === Theme Toggle (pill) === */
.theme-toggle {
  position: relative;
  width: 64px;
  height: 34px;
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
}
.theme-toggle .toggle-track {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(6px);
}
.dark .theme-toggle .toggle-track {
  background: rgba(255, 255, 255, 0.08);
}
.theme-toggle .toggle-thumb {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: #fff;
  color: #111;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);
  transition:
    transform 0.25s ease,
    background 0.2s ease,
    color 0.2s ease;
}
.dark .theme-toggle .toggle-thumb {
  background: #0f1d28;
  color: #fff;
}
.theme-toggle .toggle-thumb.right {
  transform: translateX(30px);
}

/* === Projects (cards) — upgraded === */

/* Grid: keep your counts but ensure items stretch evenly */
.projects-grid {
  display: grid;
  gap: 0.9rem;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: stretch; /* <-- makes all cards equal height per row */
}
@media (min-width: 768px) {
  .projects-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1400px) {
  .projects-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* Card container */
.project-card {
  position: relative;
  display: flex; /* equal height foundation */
  flex-direction: column;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--glass-border);
  background: var(--surface);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.2s ease,
    background 0.2s ease;
}
.dark .project-card {
  border-color: rgba(255, 255, 255, 0.12);
}

/* Subtle lift + glow on hover/focus (keeps your motion vibe) */
.project-card:hover,
.project-card:focus-within {
  transform: translateY(-3px);
  box-shadow: 0 16px 34px rgba(0, 0, 0, 0.22);
  border-color: transparent;
}

/* Image: consistent aspect + gentle zoom on hover */
.project-card .card-img {
  width: 100%;
  aspect-ratio: 16 / 10; /* a tad wider than 4/3; feels modern */
  object-fit: cover;
  transition: transform 0.35s ease;
}
.project-card:hover .card-img {
  transform: scale(1.04);
}

/* Body: lets description grow while buttons stay at bottom */
.project-card .p-3 {
  padding: 12px !important;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  flex: 1 1 auto; /* <-- equal height magic */
}

/* Title + description */
.project-card h5 {
  font-family:
    "Montserrat",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  font-weight: 700;
  font-size: 1rem;
  margin: 0 0 0.2rem 0;
  line-height: 1.35;
  color: var(--text);
}
.project-card .text-muted {
  font-size: 0.95rem;
  color: var(--muted);
}

/* Clamp keeps rows tidy on any screen */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  -webkit-line-clamp: 2;
}

/* Chips: tighter, pill look */
.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 2px;
}
.chip {
  border: 1px solid rgba(0, 0, 0, 0.1);
  padding: 4px 10px;
  border-radius: 999px;
  font-weight: var(--fw-bold);
  font-size: 0.8rem;
  background: #fff;
  color: #1b1f24;
}
.dark .chip {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.18);
  color: #eaf0f6;
}

/* Overlay CTA: center actions, fast and classy */
.project-card .project-overlay {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  gap: 0.6rem;
  padding: 1rem;
  opacity: 0;
  pointer-events: none;
  background:
    radial-gradient(
      600px 300px at 50% 40%,
      rgba(0, 0, 0, 0.35),
      transparent 70%
    ),
    rgba(0, 0, 0, 0.35);
  transition: opacity 0.18s ease;
}
.project-card:hover .project-overlay,
.project-card:focus-within .project-overlay {
  opacity: 1;
  pointer-events: auto;
}

/* Buttons inside overlay */
.project-card .project-overlay .btn {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.5rem 0.8rem;
  border-radius: 12px;
  font-size: 0.92rem;
  backdrop-filter: blur(4px);
}

/* Outline + primary tuned to your palette */
.project-card .project-overlay .btn.btn-outline {
  border: 1px solid var(--air-superiority-blue);
  color: #fff;
  background: rgba(102, 155, 188, 0.2);
}
.project-card .project-overlay .btn.btn-outline:hover {
  background: var(--air-superiority-blue);
  color: #fff;
}
.project-card .project-overlay .btn.btn-primary {
  background: var(--fire-brick);
  border-color: var(--fire-brick);
  color: #fff;
  box-shadow: 0 8px 20px rgba(193, 18, 31, 0.28);
}
.project-card .project-overlay .btn.btn-primary:hover {
  filter: brightness(1.06);
}

/* Accessible overlay on touch devices (no hover) */
@media (hover: none) {
  .project-card .project-overlay {
    opacity: 1;
    background:
      radial-gradient(
        600px 300px at 50% 40%,
        rgba(0, 0, 0, 0.25),
        transparent 70%
      ),
      rgba(0, 0, 0, 0.18);
  }
}

/* Optional: subtle gradient border on hover (looks premium) */
.project-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 16px;
  padding: 1px; /* border thickness */
  background: linear-gradient(
    135deg,
    rgba(193, 18, 31, 0.55),
    rgba(102, 155, 188, 0.55)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}
.project-card:hover::after,
.project-card:focus-within::after {
  opacity: 1;
}

/* Dark-mode readability */
.dark .project-card h5 {
  color: #f2f6fb;
}
.dark .project-card .text-muted {
  color: #e6edf6 !important;
}

/* === Footer polish === */
.footer-glass {
  border-radius: 14px;
  padding: 14px 18px;
}

/* === Motion preference === */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
/* === Dark-mode readability fixes === */

/* Make all headings bright in dark mode */
.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6 {
  color: #f6f9fc; /* near-white for clear contrast */
}

/* Body text + muted tone tuned for dark */
:root.dark {
  --text: #f6f9fc; /* brighter base text */
  --muted: #dbe5f0; /* brighter "muted" so it's still readable */
}

/* Nav links default bright in dark mode; hover stays branded */
.dark .nav-link {
  color: #f6f9fc;
}
.dark .nav-link:hover,
.dark .nav-link:focus {
  color: var(--air-superiority-blue);
  background: rgba(102, 155, 188, 0.18);
}

/* Project card title readable in dark */
.dark .project h5 {
  color: #f2f6fb;
}

/* Ensure any .text-muted inside dark sections is still readable */
.dark .text-muted {
  color: #e6edf6 !important;
}

/* Section titles: bright text + visible accent bar in dark */
.dark .section-title {
  color: #f6f9fc;
  border-left-color: var(
    --air-superiority-blue
  ); /* cooler accent reads better on navy */
}

/* Timeline specifics – keep them bright too */
.dark .timeline-time,
.dark .timeline-title {
  color: #f6f9fc;
}
.dark .timeline-body {
  color: #e1e9f2;
}

/* Optional: give glass surfaces a hair more opacity in dark for contrast */
.dark .glass {
  background: rgba(11, 26, 38, 0.62);
  border-color: rgba(255, 255, 255, 0.14);
}
/* === Contact: glassmorphism card === */
.contact-card {
  border-radius: 18px;
  padding: 20px;
  background: var(--surface);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow);
  transition:
    box-shadow 0.25s ease,
    transform 0.15s ease,
    border-color 0.25s ease;
}

/* Inputs inside glass: semi-transparent & crisp */
.contact-card .form-control {
  background: rgba(255, 255, 255, 0.65);
  border-color: rgba(0, 0, 0, 0.12);
}
.contact-card .form-control::placeholder {
  color: rgba(0, 0, 0, 0.45);
}

.dark .contact-card .form-control {
  background: rgba(255, 255, 255, 0.06);
  color: #eef3f9;
  border-color: rgba(255, 255, 255, 0.18);
}
.dark .contact-card .form-control::placeholder {
  color: rgba(255, 255, 255, 0.55);
}

/* Floating labels */
.contact-card .form-floating > label {
  color: var(--muted);
  font-weight: 600;
}
.dark .contact-card .form-floating > label {
  color: #d3deea;
}

/* Focus ring tuned to palette */
.contact-card .form-control:focus {
  border-color: var(--air-superiority-blue);
  box-shadow: 0 0 0 0.2rem rgba(102, 155, 188, 0.25);
  background: rgba(255, 255, 255, 0.9); /* light on light mode */
  color: #0e1116;
}

.dark .contact-card .form-control:focus {
  background: rgba(255, 255, 255, 0.1); /* slightly brighter than base dark */
  color: #eef3f9;
}

/* Submit row spacing */
.contact-actions {
  margin-top: 0.25rem;
}

/* Chips with icons */
.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.4rem 0.7rem;
  border-radius: 999px;
  background: var(--surface, rgba(255, 255, 255, 0.6));
  border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.35));
  backdrop-filter: blur(6px);
  font-size: 0.9rem;
  line-height: 1;
  white-space: nowrap;
}

.chip--icon img {
  display: inline-block;
  width: 18px;
  height: 18px;
  object-fit: contain;
  /* Express icon is monochrome; this keeps it visible on light/dark */
  filter: var(--chip-icon-filter, none);
}
/* Remove the floating-label background patch */
.contact-card .form-floating > label,
.contact-card .form-floating > label::after {
  background: transparent !important;
}

/* Or, if you want to nuke the pseudo-element entirely */
.contact-card .form-floating > label::after {
  content: none !important;
}
/* === Timeline Enhancements === */

.timeline-item {
  position: relative;
  margin-bottom: 2rem;
}
.timeline-time {
  font-weight: 600;
  color: var(--air-superiority-blue);
  margin-bottom: 0.2rem;
}

.timeline-title {
  font-weight: 700;
  color: var(--text);
}

.timeline-location {
  font-style: italic;
  color: var(--muted);
  margin-bottom: 0.4rem;
}

.timeline-results,
.timeline-stream {
  margin-top: 0.25rem;
  font-weight: 500;
  color: var(--text);
}

.timeline-section h4 {
  margin-top: 0.75rem;
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--air-superiority-blue);
}

.timeline-section ul {
  margin: 0.2rem 0 0 1rem;
  padding: 0;
  list-style: disc;
  color: var(--muted);
  font-size: 0.9rem;
}

.dark .timeline-title {
  color: #f6f9fc;
}
.dark .timeline-location,
.dark .timeline-results,
.dark .timeline-stream,
.dark .timeline-section ul {
  color: #dce4ee;
}
/* --- Expandable (details/summary) styling --- */
.tl-details {
  margin-top: 0.5rem;
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  background: var(--surface);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

.tl-summary {
  list-style: none;
  cursor: pointer;
  padding: 0.6rem 0.8rem;
  display: flex;
  align-items: center;
  gap: 0.45rem;
  font-weight: 600;
  color: var(--air-superiority-blue);
  user-select: none;
}
.tl-summary::-webkit-details-marker {
  display: none;
}

.tl-summary__chev {
  transition: transform 0.2s ease;
}

.tl-details[open] .tl-summary__chev {
  transform: rotate(180deg);
}

.tl-details__content {
  padding: 0.2rem 0.95rem 0.85rem 0.95rem;
  display: grid;
  gap: 0.4rem;
  border-top: 1px solid var(--glass-border);
}

.dark .tl-details {
  background: rgba(11, 26, 38, 0.62);
  border-color: rgba(255, 255, 255, 0.14);
}

/* Optional: tighter list styling inside the expandable content */
.tl-details__content .timeline-section ul {
  margin: 0.2rem 0 0 1.1rem;
  font-size: 0.92rem;
}
/* Navbar layout tweaks */
.navbar-inner {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Brand */
.nav-brand {
  font-family:
    "Montserrat",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  font-weight: 800;
  letter-spacing: 0.2px;
  color: var(--text);
  text-decoration: none;
  padding: 0.4rem 0.6rem;
  border-radius: 10px;
}

/* Hamburger */
.nav-toggle {
  display: none; /* desktop default */
  border: 0;
  background: transparent;
  color: var(--text);
  padding: 0.35rem 0.45rem;
  border-radius: 10px;
}

/* Navigation list baseline (desktop) */
.nav-list {
  display: flex;
  gap: 0.25rem;
}

/* MOBILE styles */
@media (max-width: 768px) {
  .navbar {
    padding: 0 1rem;
    display: flex;
    justify-content: center;
  }
  
  .navbar-inner {
    width: 100%;
    max-width: 640px;
    justify-content: space-between;
    display: flex;
    align-items: center;
    /* Ensure glass morphism is strong enough */
    background: var(--surface);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow);
  }

  .nav-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
  }

  /* Fix the dropdown glass morphism */
  .nav-list {
    position: absolute;
    top: calc(100% + 8px); /* Space between navbar and dropdown */
    left: 0;
    right: 0;
    margin: 0 auto;
    width: calc(100% - 2rem);
    max-width: 640px;
    display: grid;
    gap: 0.25rem;
    /* Strong glass effect for readability */
    background: var(--surface);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 14px;
    padding: 0.75rem;
    box-shadow: var(--shadow);
    transform: translateY(-10px);
    opacity: 0;
    pointer-events: none;
    transition: all 0.25s ease;
    z-index: 1101;
  }
  
  .nav-list.is-open {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }

  /* Better tap targets with strong background contrast */
  .nav-link {
    display: block;
    padding: 0.8rem 1rem;
    text-align: left;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    transition: all 0.2s ease;
  }

  .nav-link:hover,
  .nav-link:focus {
    background: rgba(102, 155, 188, 0.25);
    transform: none; /* Remove transform on mobile */
  }

  /* Enhanced backdrop for better text separation */
  .nav-backdrop {
    position: fixed;
    inset: 0;
    z-index: 1100;
    background: rgba(0, 0, 0, 0.4);
    -webkit-backdrop-filter: blur(3px);
    backdrop-filter: blur(3px);
  }
}
/* Projects grid */
.projects-grid {
  display: grid;
  gap: 0.9rem;
  grid-template-columns: 1fr; /* 1 col on phones */
  align-items: stretch;
}

@media (min-width: 576px) {
  /* small phones / phablets */
  .projects-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 992px) {
  /* tablets/desktop */
  .projects-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1400px) {
  /* large desktop */
  .projects-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}
/* On touch: render overlay as a normal block at the bottom, with no dark veil */
@media (hover: none) {
  .project-card .project-overlay {
    position: static;
    opacity: 1;
    pointer-events: auto;
    background: transparent;
    padding: .6rem .75rem .85rem;
    display: flex;
    justify-content: flex-start;
    gap: .5rem;
  }
  .project-card:hover .card-img { transform: none; } /* avoid zoom jump on tap */
}
/* slightly bigger tap area for nav links (already applied on mobile above) */
.nav-link { min-height: 40px; }

/* make project buttons comfy on touch */
.project-card .project-overlay .btn { padding: .6rem .9rem; }
